{% extends "main/base_cliente.html" %}
{% load static %}

{% block content %}


  <h1>Detalhes do Grupo</h1>
  
  {% for grupo in info %}
    <h2>{{ grupo.nome }}</h2>
    <p>Status: {{ grupo.status }}</p>
    
    <h3>Membros:</h3>
    <ul>
      {% for membro in grupo.membros.all %}
        <li>{{ membro.first_name }} {{ membro.last_name }}</li>
      {% endfor %}
    </ul>
    
    <h3>Informações do Estabelecimento:</h3>
    {% if grupo.estabelecimento.userprofile %}
      <p>Endereço: {{ grupo.estabelecimento.userprofile.endereco }}</p>
      <p>País: {{ grupo.estabelecimento.userprofile.pais }}</p>
      <p>CEP: {{ grupo.estabelecimento.userprofile.cep }}</p>
      <p>Valor do Aluguel: R$ {{ grupo.estabelecimento.userprofile.valor_aluguel }}</p>
      <p>Capacidade de Pessoas: {{ grupo.estabelecimento.userprofile.capacidade_pessoas }}</p>
      <p>Tipo de Horário: {{ grupo.estabelecimento.userprofile.get_tipo_horario_display }}</p>

      <h3>Localização no Mapa:</h3>
      <div id="map"></div>

    <!-- <script>
      function initMap() {
        var latitude = {{ grupo.estabelecimento.userprofile.latitude }};
        var longitude = {{ grupo.estabelecimento.userprofile.longitude }};
        
        var map = new google.maps.Map(document.getElementById('map'), {
          center: { lat: latitude, lng: longitude },
          zoom: 15
        });
        
        var marker = new google.maps.Marker({
          position: { lat: latitude, lng: longitude },
          map: map,
          title: 'Local do Estabelecimento'
        });
      }
    </script> -->

    {% else %}
      <p>Informações do estabelecimento não disponíveis.</p>
    {% endif %}
  {% endfor %}

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA7Ta6Dty0RKOYkQDjM3bToETR3d6Yi358&callback=initMap" async defer></script>

  

{% endblock %}


